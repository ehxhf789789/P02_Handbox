{
  "id": "cnt-phase3-committee-simulation",
  "name": "[Phase 3] 위원회 시뮬레이션 실행",
  "description": "CNT 신청서 → 5개 에이전트 병렬 평가 → 다수결 판정",
  "category": "CNT 평가 연구",
  "nodes": [
    {
      "id": "node_1",
      "type": "local-file",
      "position": { "x": 0, "y": 150 },
      "data": {
        "label": "CNT 신청서",
        "color": "#ef4444",
        "description": "PDF/HWP 신청서",
        "config": { "file_filter": "*.pdf;*.hwp;*.xlsx" }
      }
    },
    {
      "id": "node_2",
      "type": "doc-pdf-parser",
      "position": { "x": 180, "y": 150 },
      "data": { "label": "문서 파싱", "color": "#ef4444", "description": "신청서 텍스트 추출", "config": {} }
    },
    {
      "id": "node_3",
      "type": "custom-agent",
      "position": { "x": 400, "y": 0 },
      "data": {
        "label": "평가위원 #1",
        "color": "#6366f1",
        "description": "에이전트 1",
        "config": {
          "agent_id": "evaluator_1",
          "model": "anthropic.claude-3-sonnet-20240229-v1:0",
          "temperature": 0.15,
          "persona": "보수적 관점의 구조 전문가"
        }
      }
    },
    {
      "id": "node_4",
      "type": "custom-agent",
      "position": { "x": 400, "y": 75 },
      "data": {
        "label": "평가위원 #2",
        "color": "#8b5cf6",
        "description": "에이전트 2",
        "config": {
          "agent_id": "evaluator_2",
          "model": "anthropic.claude-3-sonnet-20240229-v1:0",
          "temperature": 0.2,
          "persona": "혁신 지향의 시공 전문가"
        }
      }
    },
    {
      "id": "node_5",
      "type": "custom-agent",
      "position": { "x": 400, "y": 150 },
      "data": {
        "label": "평가위원 #3",
        "color": "#a855f7",
        "description": "에이전트 3",
        "config": {
          "agent_id": "evaluator_3",
          "model": "anthropic.claude-3-sonnet-20240229-v1:0",
          "temperature": 0.25,
          "persona": "실용성 중시의 현장 전문가"
        }
      }
    },
    {
      "id": "node_6",
      "type": "custom-agent",
      "position": { "x": 400, "y": 225 },
      "data": {
        "label": "평가위원 #4",
        "color": "#c084fc",
        "description": "에이전트 4",
        "config": {
          "agent_id": "evaluator_4",
          "model": "anthropic.claude-3-sonnet-20240229-v1:0",
          "temperature": 0.2,
          "persona": "경제성 분석 전문가"
        }
      }
    },
    {
      "id": "node_7",
      "type": "custom-agent",
      "position": { "x": 400, "y": 300 },
      "data": {
        "label": "평가위원 #5",
        "color": "#d8b4fe",
        "description": "에이전트 5",
        "config": {
          "agent_id": "evaluator_5",
          "model": "anthropic.claude-3-sonnet-20240229-v1:0",
          "temperature": 0.15,
          "persona": "특허/선행기술 분석 전문가"
        }
      }
    },
    {
      "id": "node_8",
      "type": "merge",
      "position": { "x": 620, "y": 150 },
      "data": {
        "label": "평가 결과 수집",
        "color": "#c084fc",
        "description": "5개 에이전트 결과 병합",
        "config": {}
      }
    },
    {
      "id": "node_9",
      "type": "custom-agent",
      "position": { "x": 820, "y": 150 },
      "data": {
        "label": "투표 집계",
        "color": "#f97316",
        "description": "다수결 판정",
        "config": {
          "agent_type": "voting_aggregator",
          "system_prompt": "5명의 평가위원 결과를 집계합니다:\n\n## 집계 규칙\n1. 각 항목(신규성/진보성/현장적용성/경제성)별 충족/미충족 집계\n2. 3명 이상 충족 → 해당 항목 \"충족\"\n3. 모든 항목 충족 → 최종 \"통과(Approved)\"\n4. 1개 항목이라도 미충족 → \"불통과(Unapproved)\"\n\n## 출력 형식\n{\n  \"final_decision\": \"Approved/Unapproved\",\n  \"criteria_results\": {\n    \"novelty\": { \"votes\": [1,1,0,1,1], \"result\": \"충족\", \"count\": \"4/5\" },\n    \"inventiveness\": { ... },\n    \"applicability\": { ... },\n    \"economy\": { ... }\n  },\n  \"evidence_citations\": [...],\n  \"dissenting_opinions\": [...]\n}"
        }
      }
    },
    {
      "id": "node_10",
      "type": "viz-json-viewer",
      "position": { "x": 1020, "y": 100 },
      "data": {
        "label": "판정 결과",
        "color": "#22c55e",
        "description": "투표 결과 시각화",
        "config": {}
      }
    },
    {
      "id": "node_11",
      "type": "export-excel",
      "position": { "x": 1020, "y": 200 },
      "data": {
        "label": "결과 Excel",
        "color": "#22c55e",
        "description": "평가 결과 저장",
        "config": {
          "output_path": "./output/evaluation_results.xlsx",
          "sheet_name": "CNT_Evaluation"
        }
      }
    }
  ],
  "edges": [
    { "id": "edge_1", "source": "node_1", "target": "node_2" },
    { "id": "edge_2", "source": "node_2", "target": "node_3" },
    { "id": "edge_3", "source": "node_2", "target": "node_4" },
    { "id": "edge_4", "source": "node_2", "target": "node_5" },
    { "id": "edge_5", "source": "node_2", "target": "node_6" },
    { "id": "edge_6", "source": "node_2", "target": "node_7" },
    { "id": "edge_7", "source": "node_3", "target": "node_8" },
    { "id": "edge_8", "source": "node_4", "target": "node_8" },
    { "id": "edge_9", "source": "node_5", "target": "node_8" },
    { "id": "edge_10", "source": "node_6", "target": "node_8" },
    { "id": "edge_11", "source": "node_7", "target": "node_8" },
    { "id": "edge_12", "source": "node_8", "target": "node_9" },
    { "id": "edge_13", "source": "node_9", "target": "node_10" },
    { "id": "edge_14", "source": "node_9", "target": "node_11" }
  ],
  "created_at": "2025-02-03T00:00:00.000Z",
  "updated_at": "2025-02-03T00:00:00.000Z"
}
