{
  "id": "cnt-phase4-consistency",
  "name": "[Phase 4] 일관성 검증",
  "description": "동일 신청서 반복 평가 → 결과 일관성 (Fleiss' Kappa) 측정",
  "category": "CNT 평가 연구",
  "nodes": [
    {
      "id": "node_1",
      "type": "local-file",
      "position": { "x": 0, "y": 150 },
      "data": {
        "label": "테스트 신청서",
        "color": "#ef4444",
        "description": "일관성 테스트용 신청서",
        "config": { "file_filter": "*.pdf;*.hwp" }
      }
    },
    {
      "id": "node_2",
      "type": "doc-pdf-parser",
      "position": { "x": 180, "y": 150 },
      "data": {
        "label": "문서 파싱",
        "color": "#ef4444",
        "description": "텍스트 추출",
        "config": {}
      }
    },
    {
      "id": "node_3",
      "type": "custom-agent",
      "position": { "x": 380, "y": 0 },
      "data": {
        "label": "평가 시행 #1",
        "color": "#6366f1",
        "description": "첫 번째 평가",
        "config": {
          "agent_id": "trial_1",
          "model": "anthropic.claude-3-sonnet-20240229-v1:0",
          "temperature": 0.2
        }
      }
    },
    {
      "id": "node_4",
      "type": "custom-agent",
      "position": { "x": 380, "y": 75 },
      "data": {
        "label": "평가 시행 #2",
        "color": "#8b5cf6",
        "description": "두 번째 평가",
        "config": {
          "agent_id": "trial_2",
          "model": "anthropic.claude-3-sonnet-20240229-v1:0",
          "temperature": 0.2
        }
      }
    },
    {
      "id": "node_5",
      "type": "custom-agent",
      "position": { "x": 380, "y": 150 },
      "data": {
        "label": "평가 시행 #3",
        "color": "#a855f7",
        "description": "세 번째 평가",
        "config": {
          "agent_id": "trial_3",
          "model": "anthropic.claude-3-sonnet-20240229-v1:0",
          "temperature": 0.2
        }
      }
    },
    {
      "id": "node_6",
      "type": "custom-agent",
      "position": { "x": 380, "y": 225 },
      "data": {
        "label": "평가 시행 #4",
        "color": "#c084fc",
        "description": "네 번째 평가",
        "config": {
          "agent_id": "trial_4",
          "model": "anthropic.claude-3-sonnet-20240229-v1:0",
          "temperature": 0.2
        }
      }
    },
    {
      "id": "node_7",
      "type": "custom-agent",
      "position": { "x": 380, "y": 300 },
      "data": {
        "label": "평가 시행 #5",
        "color": "#d8b4fe",
        "description": "다섯 번째 평가",
        "config": {
          "agent_id": "trial_5",
          "model": "anthropic.claude-3-sonnet-20240229-v1:0",
          "temperature": 0.2
        }
      }
    },
    {
      "id": "node_8",
      "type": "merge",
      "position": { "x": 580, "y": 150 },
      "data": {
        "label": "결과 수집",
        "color": "#c084fc",
        "description": "5회 평가 결과 병합",
        "config": {}
      }
    },
    {
      "id": "node_9",
      "type": "custom-agent",
      "position": { "x": 780, "y": 150 },
      "data": {
        "label": "일관성 분석",
        "color": "#f97316",
        "description": "Fleiss' Kappa 계산",
        "config": {
          "agent_type": "consistency_analyzer",
          "system_prompt": "동일 신청서에 대한 반복 평가 결과의 일관성을 분석합니다.\n\n## 분석 지표\n1. Fleiss' Kappa (κ)\n   - κ < 0: 우연보다 낮은 일치도\n   - 0.01-0.20: 미미한 일치\n   - 0.21-0.40: 보통 일치\n   - 0.41-0.60: 중간 일치\n   - 0.61-0.80: 상당한 일치\n   - 0.81-1.00: 거의 완벽한 일치\n\n2. 항목별 일관성\n   - 신규성 판정 일관성\n   - 진보성 판정 일관성\n   - 현장적용성 판정 일관성\n   - 경제성 판정 일관성\n\n## 출력 형식\n{\n  \"fleiss_kappa\": 0.00,\n  \"interpretation\": \"...\",\n  \"criteria_consistency\": {\n    \"novelty\": { \"agreement_rate\": 0.00, \"kappa\": 0.00 },\n    \"inventiveness\": { \"agreement_rate\": 0.00, \"kappa\": 0.00 },\n    \"applicability\": { \"agreement_rate\": 0.00, \"kappa\": 0.00 },\n    \"economy\": { \"agreement_rate\": 0.00, \"kappa\": 0.00 }\n  },\n  \"inconsistent_items\": [...],\n  \"recommendation\": \"...\"\n}"
        }
      }
    },
    {
      "id": "node_10",
      "type": "viz-json-viewer",
      "position": { "x": 980, "y": 100 },
      "data": {
        "label": "일관성 시각화",
        "color": "#22c55e",
        "description": "Kappa 결과 표시",
        "config": {}
      }
    },
    {
      "id": "node_11",
      "type": "export-excel",
      "position": { "x": 980, "y": 200 },
      "data": {
        "label": "일관성 리포트",
        "color": "#22c55e",
        "description": "일관성 분석 결과 저장",
        "config": {
          "output_path": "./output/validation_consistency_report.xlsx",
          "sheet_name": "Consistency_Validation"
        }
      }
    }
  ],
  "edges": [
    { "id": "edge_1", "source": "node_1", "target": "node_2" },
    { "id": "edge_2", "source": "node_2", "target": "node_3" },
    { "id": "edge_3", "source": "node_2", "target": "node_4" },
    { "id": "edge_4", "source": "node_2", "target": "node_5" },
    { "id": "edge_5", "source": "node_2", "target": "node_6" },
    { "id": "edge_6", "source": "node_2", "target": "node_7" },
    { "id": "edge_7", "source": "node_3", "target": "node_8" },
    { "id": "edge_8", "source": "node_4", "target": "node_8" },
    { "id": "edge_9", "source": "node_5", "target": "node_8" },
    { "id": "edge_10", "source": "node_6", "target": "node_8" },
    { "id": "edge_11", "source": "node_7", "target": "node_8" },
    { "id": "edge_12", "source": "node_8", "target": "node_9" },
    { "id": "edge_13", "source": "node_9", "target": "node_10" },
    { "id": "edge_14", "source": "node_9", "target": "node_11" }
  ],
  "created_at": "2025-02-03T00:00:00.000Z",
  "updated_at": "2025-02-03T00:00:00.000Z"
}
