{
  "id": "cnt-phase1-dynamic-kb",
  "name": "[Phase 1-2] 동적 지식베이스 구축",
  "description": "KISTI/논문/특허 API → Dynamic KB (스케줄 실행)",
  "category": "CNT 평가 연구",
  "nodes": [
    {
      "id": "node_1",
      "type": "scheduler",
      "position": { "x": 0, "y": 80 },
      "data": {
        "label": "스케줄러",
        "color": "#f59e0b",
        "description": "주기적 업데이트",
        "config": { "cron": "0 3 * * 1", "description": "매주 월요일 03:00" }
      }
    },
    {
      "id": "node_2",
      "type": "kisti-patents",
      "position": { "x": 200, "y": 0 },
      "data": {
        "label": "KISTI 특허",
        "color": "#a855f7",
        "description": "건설 관련 특허 검색",
        "config": {
          "query": "건설신기술,공법,시공,구조",
          "row_count": 30
        }
      }
    },
    {
      "id": "node_3",
      "type": "kisti-articles",
      "position": { "x": 200, "y": 80 },
      "data": {
        "label": "KISTI 논문",
        "color": "#8b5cf6",
        "description": "건설 관련 학술논문",
        "config": {
          "query": "건설,토목,신기술,공법",
          "row_count": 30
        }
      }
    },
    {
      "id": "node_4",
      "type": "local-file",
      "position": { "x": 200, "y": 160 },
      "data": {
        "label": "기지정 신기술 DB",
        "color": "#f59e0b",
        "description": "기존 건설신기술 목록",
        "config": {
          "file_filter": "*.xlsx;*.csv"
        }
      }
    },
    {
      "id": "node_5",
      "type": "merge",
      "position": { "x": 420, "y": 80 },
      "data": { "label": "API 결과 통합", "color": "#c084fc", "description": "외부 데이터 병합", "config": {} }
    },
    {
      "id": "node_6",
      "type": "model-claude-3-5-sonnet",
      "position": { "x": 620, "y": 80 },
      "data": {
        "label": "AI 정제",
        "color": "#6366f1",
        "description": "데이터 정규화/정제",
        "config": {
          "system_prompt": "특허, 논문, 기존 신기술 데이터를 정제합니다:\n1. 중복 제거\n2. 핵심 기술 키워드 추출\n3. 분류 체계 정규화 (신규성/진보성/현장적용성/경제성)\n4. 메타데이터 구조화",
          "temperature": 0.1
        }
      }
    },
    {
      "id": "node_7",
      "type": "text-splitter",
      "position": { "x": 820, "y": 80 },
      "data": { "label": "청킹", "color": "#c084fc", "description": "문서 분할", "config": { "chunk_size": 1000, "overlap": 200 } }
    },
    {
      "id": "node_8",
      "type": "embedder",
      "position": { "x": 1020, "y": 80 },
      "data": { "label": "임베딩", "color": "#d8b4fe", "description": "벡터화", "config": { "model": "amazon.titan-embed-text-v2:0" } }
    },
    {
      "id": "node_9",
      "type": "vector-opensearch",
      "position": { "x": 1220, "y": 80 },
      "data": {
        "label": "Dynamic KB",
        "color": "#ff9900",
        "description": "동적 지식베이스",
        "config": {
          "index_name": "cnt_dynamic_kb",
          "persist": true
        }
      }
    }
  ],
  "edges": [
    { "id": "edge_1", "source": "node_1", "target": "node_2" },
    { "id": "edge_2", "source": "node_1", "target": "node_3" },
    { "id": "edge_3", "source": "node_1", "target": "node_4" },
    { "id": "edge_4", "source": "node_2", "target": "node_5" },
    { "id": "edge_5", "source": "node_3", "target": "node_5" },
    { "id": "edge_6", "source": "node_4", "target": "node_5" },
    { "id": "edge_7", "source": "node_5", "target": "node_6" },
    { "id": "edge_8", "source": "node_6", "target": "node_7" },
    { "id": "edge_9", "source": "node_7", "target": "node_8" },
    { "id": "edge_10", "source": "node_8", "target": "node_9" }
  ],
  "created_at": "2025-02-03T00:00:00.000Z",
  "updated_at": "2025-02-03T00:00:00.000Z"
}
